<!DOCTYPE html>
<html>

<head>
    <title>BAK Game</title>
    <link rel="stylesheet" type="text/css" href="assets/css/bak-game.css">
</head>

<body>
    <!-- Welcome page  -->
    <div id="welcomepage">
        <div id="title">
            <h1>Spot the difference</h1>
        </div>
        <div id="mainIntrudction">
            <div id="indstruction">
                <h2>Instruction</h2>
            </div>
            <div id="expample">
                <iframe src=""></iframe>
            </div>
        </div>
        <div>
            <button id="start">START</button>
        </div>
    </div>

 <!-- Game  page  -->
    <div id="gamepage">
        <div id="title">
            <h1>Play Area</h1>
        </div>
        <div id="scores">
            <div id="playerscore">
                <h4>Player Score: <span id="myscore"></span></h4>
            </div>
            <div id="divhighscore">
                <h4>High Score <span id="spanhighscore">'firebase'</span></h4>
            </div>
        </div>
        <div id="divtimer">
            <div id="divstatusbar"> status bar....! </div>
        </div>
        <div id="divpictures">
            <div id="divleftpic">
                <object type="image/svg+xml"></object>
            </div>
            <div id="divrightpic">
                <object type="image/svg+xml"></object>
            </div>
        </div>
        <div id="divtextarea">
            <form>
                <input id="answerArea">
                <button id="enterAnswer"></button>
            </form>
            <div id="answerHistory">
            </div>
        </div>
    </div>

 <!-- Result page  -->

    <div id="divscoreboard">
        <div id="title">
            <h1>Score board</h1>
        </div>
        <div id="scoreboard">
            <div id="divplayerscore">
                <h1>Player's Score</h1>
                <span id="spanmyscore"></span>
            </div>
            <div id="diventername">
                <input type="text" id="entername" />
            </div>
        </div>
        <div id="divleaderboard">
            LEADER BAORD !
        </div>
    </div>

    <!-- LINK TO FIREBASE GOES HERE -->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
    <!-- LINK TO JQUERY GOES HERE -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDgbsEY5wVs8byaslFU2ZnvYxX1xm3wwjM",
        authDomain: "bak-game.firebaseapp.com",
        databaseURL: "https://bak-game.firebaseio.com",
        projectId: "bak-game",
        storageBucket: "bak-game.appspot.com",
        messagingSenderId: "792992368200"
      };

        firebase.initializeApp(config);
        var dataRef = firebase.database();
        // Initial Values
         var name = "";
         var score = "";

    //welcomepage functions
	    $('#gamepage').hide();
	    $('#divscoreboard').hide();

	    //Start Button - Start Game
	    $('#start').on('click', function() {
	        $('#welcomepage').hide();
	        $('#gamepage').show();
	    })

    //gamepage functions
	    //keywords variables
	    var object;
	    var color;
	    //player score
	    var myScore = 0;
	    $('#myscore').text(myScore);

	    //diplay picture
	    function nextLevel() {

	        if (myScore == 0) {
	            object = 'square';
	            color = 'blue';
	            $('#divleftpic > object').attr('data', 'assets/images/round_1_a.svg');

	            $('#divrightpic > object').attr('data', 'assets/images/round_1_b.svg');
	        }
	        if (myScore == 1) {
	            object = 'star';
	            color = 'orange';
	            $('#divleftpic > object').attr('data', 'assets/images/round_1_2_a.svg');
	            $('#divrightpic > object').attr('data', 'assets/images/round_1_2_b.svg');
	        }
	        if (myScore == 2) {
	            $('#gamepage').hide();
	            $('#divscoreboard').show();
	        }
	        $('#answerHistory').empty();
	    }

	    nextLevel();

	    //player input function
	    $('#enterAnswer').on('click', function() {
	        event.preventDefault();

	        var answerAreaVal = $('#answerArea').val();
	        var answerHistory = $('#answerHistory');

	        var newAnswer = $('<p>').html(answerAreaVal)
	        answerHistory.prepend(newAnswer);

	        //check words in answer
	        if (answerAreaVal.indexOf(object) != -1 && answerAreaVal.indexOf(color) != -1) {
	            //correct answer message
	            var answerCorrect = $('<p>').html('You got it!');
	            answerHistory.prepend(answerCorrect);

	            //update score
	            myScore++;
	            $('#myscore').text(myScore);

	            nextLevel();
	        } else {
	            //incorrect answer message
	            var answerIncorrect = $('<p>').html('WROOOOOOONNNG!');
	            answerHistory.prepend(answerIncorrect);
	        }

	        //clearing input value in answer area
	        $('#answerArea').val("");
	    });
    </script>
</body>

</html>