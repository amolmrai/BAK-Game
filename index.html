<!DOCTYPE html>
<html>

<head>
    <title>BAK Game</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/bak-game.css">
    <style type="text/css">
    #example p {
        line-height: 0;
        font-size: 20px;
    }

    .bartimer {
        width: 1000px;
        height: 80px;
        background-color: green;
        animation: bartimer 300000ms 1;
    }

    @keyframes bartimer {
        0% {
            width: 1000px;
            height: 80px;
        }
        33% {
        	background-color: yellow;
        }
        66% {
        	background-color: red;
        }
        100% {
            width: 0px;
            height: 80px;
            background-color: red;
        }
    }
    </style>
</head>

<body>
    <!-- Welcome page  -->
    <div id="welcomepage">
        <div id="title">
            <h1>Spot the difference</h1>
        </div>
        <div id="mainIntrudction">
            <div id="instruction">
                <h2>Instruction</h2>
                <p id="instructiontext">
                    - Find the differences in each level
                </p>
                <p>
                    - In type area, type out the differences
                </p>
                <p> - Be as specific as you can. "Object" and "Difference" required. ("Square" is "blue")
                </p>
            </div>
            <div id="example">
            </div>
        </div>
        <div id="choosedifficulty">
            <span><button id="easy">Easy</button></span>
            <span><button id="hard">Hard</button></span>
        </div>
        <div>
            <button id="start">START</button>
        </div>
    </div>
    <!-- Game  page  -->
    <div id="gamepage" data-difficulty="">
        <div id="title">
            <h1>Play Area</h1>
        </div>
        <div id="scores">
            <div id="playerscore">
                <h4>Player Score: <span id="myscore"></span></h4>
            </div>
            <div id="divhighscore">
                <h4>High Score <span id="spanhighscore">'firebase'</span></h4>
            </div>
        </div>
        <div id="divtimer">
            <div id="timeremaining"><span id="minutes"></span>:<span id="seconds"></span><span id="secondsright"></span></div>
            <div></div>
            <div id="divstatusbar"> status bar....! </div>
        </div>
        <div id="divpictures">
            <div id="divleftpic">
                <object type="image/svg+xml"></object>
            </div>
            <div id="divrightpic">
                <object type="image/svg+xml"></object>
            </div>
        </div>
        <div id="divtextarea">
            <button id="enterAnswer">Next</button>
             <span><button id="pauseTimer">PauseTimer</button></span>
             <span><button id="continueTimer">Continue</button></span>
            <div id="answerHistory"></div>
        </div>
    </div>
    <!-- Result page  -->
    <div id="divscoreboard">
        <div id="title">
            <h1>Score board</h1>
        </div>
        <div id="scoreboard">
            <div id="divplayerscore">
                <h1>Player's Score</h1>
                <span id="spanmyscore"></span>
            </div>
            <div id="diventername">
                <input type="text" id="entername">
            </div>
        </div>
        <div id="divleaderboard">
            LEADER BAORD !
        </div>
    </div>
    <!-- LINK TO FIREBASE GOES HERE -->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase.js"></script>
    <!-- LINK TO JQUERY GOES HERE -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script type="text/javascript">
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDgbsEY5wVs8byaslFU2ZnvYxX1xm3wwjM",
        authDomain: "bak-game.firebaseapp.com",
        databaseURL: "https://bak-game.firebaseio.com",
        projectId: "bak-game",
        storageBucket: "bak-game.appspot.com",
        messagingSenderId: "792992368200"
    };

    firebase.initializeApp(config);
    var dataRef = firebase.database();
    // Initial Values
    var name = "";
    var score = "";

    //welcomepage functions
    $('#gamepage').hide();
    $('#divscoreboard').hide();

    // Easy Mode
    $('#easy').on('click', function() {
        $('#gamepage').attr('data-difficulty', 'easy');
    });

    // Hard Mode
    $('#hard').on('click', function() {
        $('#gamepage').attr('data-difficulty', 'hard');
    });

    var timeSeconds = 5;
    var timeSecondsright = 9;
    var timeMinutes =4;
    var myVar ;
    // start timer
    function firstNumber() {
            timeSecondsright--;
            $('#secondsright').text(timeSecondsright);
            if (timeSecondsright == -1) {
                timeSecondsright = 9;
                $('#secondsright').text(timeSecondsright);
                timeSeconds--;
                $('#seconds').text(timeSeconds);
            }
            if (timeSeconds == -1) {
                timeSeconds = 5;
                $('#seconds').text(timeSeconds);
                timeMinutes--;
                $('#minutes').text(timeMinutes);
            }
            if (timeMinutes == -1) {
                alert('Out of time');
            }
        }
    function startTimer() {
        //timeSecondsright = 9;
        //timeSeconds = 5;
        //timeMinutes = 4;
        $('#secondsright').text(timeSecondsright);
        $('#seconds').text(timeSeconds);
        $('#minutes').text(timeMinutes);
        
         myVar=setInterval(firstNumber, 1000);
    }

    //Start Button - Start Game
    $('#start').on('click', function() {
        var difficulty = $('#gamepage').attr('data-difficulty');
        if (difficulty.length > 1) {
            $('#welcomepage').hide();
            $('#gamepage').show();
            $('#divtimer div:nth-child(2)').addClass('bartimer');

            // set timer
            timeSeconds = 0;
            timeSecondsright = 0;
            timeMinutes = 5;
            $('#minutes').text(timeMinutes);
            $('#seconds').text(timeSeconds);
            $('#secondsright').text(timeSecondsright);

            // call timer function
            setTimeout(startTimer, 1000);
        } else {
            alert('Choose Difficulty');
        }
    });

    $('#enterAnswer').on('click', function() {
        $('#gamepage').hide();
        $('#divscoreboard').show();
    });

    $('#pauseTimer').on('click',function(){
        alert(myVar);
        clearTimeout(myVar);
    });

    $('#continueTimer').on('click',function(){
        // call timer function
        setTimeout(startTimer, 1000);
    });

    //gamepage functions
    //keywords variables
    var object;
    var color;
    //player score
    var myScore = 0;
    // $('#myscore').text(myScore);

    //diplay picture


    //player input function
    </script>
</body>

</html>